<!-- Sidebar Navigation -->
<!-- Desktop: Always visible (sticky) -->
<!-- Mobile: Offcanvas -->
<nav id="sidebar"
     class="sidebar d-none d-lg-block position-sticky"
     style="top: 56px;
            height: calc(100vh - 56px);
            overflow-y: auto"
     aria-label="Main navigation">
  <div class="sidebar-content">

    <!-- Examples Section -->
    <div class="sidebar-section">
      <h6 class="sidebar-heading">Examples</h6>
      {% include 'includes/nav_links.html' %}
    </div>

    <!-- Documentation Section -->
    <div class="sidebar-section">
      <h6 class="sidebar-heading">Documentation</h6>
      <ul class="nav flex-column">
        <li class="nav-item">
          <a class="nav-link" href="{% url 'examples:index' %}#docs">
            <i class="bi bi-book"></i><span class="nav-link-text">Getting Started</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'examples:index' %}#docs">
            <i class="bi bi-book"></i><span class="nav-link-text">Core Concepts</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'examples:index' %}#docs">
            <i class="bi bi-book"></i><span class="nav-link-text">Django Integration</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'examples:index' %}#docs">
            <i class="bi bi-book"></i><span class="nav-link-text">Best Practices</span>
          </a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<!-- Mobile Offcanvas Navigation -->
<div class="offcanvas offcanvas-start d-lg-none sidebar"
     tabindex="-1"
     id="sidebarOffcanvas"
     aria-labelledby="sidebarOffcanvasLabel">
  <div class="offcanvas-header">
    <a class="navbar-brand fw-semibold" href="{% url 'examples:index' %}">
      <i class="bi bi-lightning-charge-fill logo-gradient me-1"></i><span class="logo-gradient">Django + Datastar</span>
    </a>
    <button type="button"
            class="btn-close"
            data-bs-dismiss="offcanvas"
            aria-label="Close"></button>
  </div>

  <div class="offcanvas-body sidebar-content">
    <!-- Search & Links -->
    <div class="container d-flex gap-2 mb-3">
      <button class="btn btn-outline-secondary flex-grow-1"
              id="search-trigger-mobile"
              data-bs-toggle="modal"
              data-bs-target="#search-modal"
              aria-label="Search">
        <i class="bi bi-search me-2"></i>Search
      </button>
      <a class="btn btn-outline-secondary"
         href="https://github.com/ZendaInnocent/django-datastar-examples"
         target="_blank"
         rel="noopener noreferrer"
         aria-label="GitHub">
        <i class="bi bi-github"></i>
      </a>
    </div>

    <!-- Examples Section -->
    <div class="sidebar-section">
      <h6 class="sidebar-heading">Examples</h6>
      {% include 'includes/nav_links.html' %}
    </div>

    <!-- Documentation Section -->
    <div class="sidebar-section">
      <h6 class="sidebar-heading">Documentation</h6>
      <ul class="nav flex-column">
        <li class="nav-item">
          <a class="nav-link" href="{% url 'examples:index' %}#docs">
            <i class="bi bi-book"></i><span class="nav-link-text">Getting Started</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'examples:index' %}#docs">
            <i class="bi bi-book"></i><span class="nav-link-text">Core Concepts</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'examples:index' %}#docs">
            <i class="bi bi-book"></i><span class="nav-link-text">Django Integration</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{% url 'examples:index' %}#docs">
            <i class="bi bi-book"></i><span class="nav-link-text">Best Practices</span>
          </a>
        </li>
      </ul>
    </div>

    <!-- Tools Section -->
    <div class="sidebar-section mt-auto pt-3">
      <ul class="nav flex-column">
        {% if not howto_slug %}
          <li class="nav-item">
            <button class="nav-link btn btn-link text-start"
                    type="button"
                    data-bs-toggle="offcanvas"
                    data-bs-target="#howtoOffcanvas"
                    aria-controls="howtoOffcanvas">
              <i class="bi bi-book"></i><span class="nav-link-text">How to Build</span>
            </button>
          </li>
        {% endif %}
      </ul>
    </div>
  </div>
</div>
